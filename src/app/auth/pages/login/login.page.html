

<ion-content class="ion-padding">

  <form [formGroup]="loginForm" *ngIf="formActive && !isAuthenticatingIndicator" (ngSubmit)="login()" (keydown.enter)="login()" style="margin-top: 50px">
    <ion-row>
      <ion-col class="ion-text-center">
        <h2 class="logo">Fleet Manager</h2>
      </ion-col>
    </ion-row>
    <!-- Email -->
    <ion-row class="ion-justify-content-center">
      <ion-col
               sizeLg="4" offsetLg="0"
               sizeMd="6" offsetMd="0"
               sizeSm="10" offsetSm="0"
               sizeXs="12" offsetXs="0"
              >
        <div class="form-group">
          <ion-item>
            <ion-input type="email"
                       placeholder="Email"
                       [autofocus]="true"
                       formControlName="email"
            ></ion-input>
          </ion-item>
          <ion-label
            *ngIf="loginForm.controls.email.touched && loginForm.controls.email.errors?.required"
            class="small-1 ion-margin-left"
            color="danger"
          >Email is required
          </ion-label>
          <ion-label
            *ngIf="loginForm.controls.email.touched && loginForm.controls.email.errors?.email"
            class="small-1"
            color="danger"
          >Email is not valid
          </ion-label>
        </div>
      </ion-col>
    </ion-row>

    <!-- Password -->
    <ion-row class="ion-justify-content-center">
      <ion-col
        sizeLg="4" offsetLg="0"
        sizeMd="6" offsetMd="0"
        sizeSm="10" offsetSm="0"
        sizeXs="12" offsetXs="0"
      >
        <div class="form-group">
          <ion-item>

          <ion-input #password
                     type="password"
                     placeholder="Password"
                     formControlName="password"
          >
          </ion-input>
          <ion-icon name="eye"
                    slot="end"
                    class="show-right-icon-input pointer"
                    (click)="showPassword(password)"
          ></ion-icon>
          </ion-item>
          <ion-label
            *ngIf="loginForm.controls.password.touched && loginForm.controls.password.errors?.required"
            class="small-1 "
            color="danger"

          >Password is required
          </ion-label>
          <ion-label
            *ngIf="loginForm.controls.password.touched && loginForm.controls.password.errors?.minlength"
            class="small-1 "
            color="danger"
          >Password must have minimum 6 characters
          </ion-label>
        </div>
      </ion-col>
    </ion-row>



    <!-- Login btn-->
    <ion-row class="ion-justify-content-center ion-margin-vertical">
      <ion-col
        sizeLg="6"
        sizeMd="8"
        sizeSm="10"
        sizeXs="12"
        class="ion-text-center">
        <ion-button color="primary" type="submit" [disabled]="loginForm.invalid">Log in</ion-button>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col 
      class="ion-text-center">
      <ion-label>
        Don't have account? <p routerLink="/register" style="cursor: pointer;">Register now</p>
      </ion-label>
      </ion-col>
    </ion-row>

  </form>


  <ion-row class="ion-justify-content-center ion-margin-vertical" *ngIf="isAuthenticatingIndicator">
    <ion-spinner color="primary" name="circles"></ion-spinner>
  </ion-row>

</ion-content>

